<div class="role-dashboard risk-agent">
    <div class="welcome-banner">
        <h2><i class="fas fa-user-shield"></i> {{ title }}</h2>
        <p>Consultez vos risques assignés, ajoutez des preuves de traitement et mettez à jour l'avancement.</p>
    </div>

    <div class="dashboard-grid">
        <!-- Assigned Risks Module Card -->
        <div class="module-card premium">
            <div class="card-icon"><i class="fas fa-tasks"></i></div>
            <h3>Risques à Traiter</h3>
            <p class="desc">Gérez les risques qui vous sont actuellement assignés pour traitement (Preuves, avancement,
                etc.).</p>
            <div class="card-footer" style="margin-top: 20px;">
                <button class="btn-primary" (click)="goToAssignedRisks()">
                    <i class="fas fa-external-link-alt"></i> Ouvrir la gestion des risques
                </button>
            </div>
        </div>
    </div>
</div>

<style>
    .badge {
        padding: 6px 10px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        display: inline-block;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .level-Faible {
        background: #e3f2fd;
        color: #1976d2;
        border: 1px solid #bbdefb;
    }

    .level-Moyen {
        background: #fff8e1;
        color: #fbc02d;
        border: 1px solid #ffecb3;
    }

    .level-Élevé {
        background: #fff3e0;
        color: #fb8c00;
        border: 1px solid #ffe0b2;
    }

    .level-Critique {
        background: #ffebee;
        color: #d32f2f;
        border: 1px solid #ffcdd2;
    }

    .status-Ouvert {
        background: #e8f5e9;
        color: #2e7d32;
        border: 1px solid #c8e6c9;
    }

    .status-En\ cours {
        background: #e3f2fd;
        color: #1976d2;
        border: 1px solid #bbdefb;
    }

    .status-Traité {
        background: #f3e5f5;
        color: #7b1fa2;
        border: 1px solid #e1bee7;
    }

    .status-Clôturé {
        background: #eeeeee;
        color: #616161;
        border: 1px solid #e0e0e0;
    }

    .btn-sm {
        padding: 8px 14px;
        font-size: 0.75rem;
        border-radius: 6px;
        transition: all 0.2s;
    }

    .btn-sm:hover {
        transform: translateY(-1px);
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
    }

    .risks-table-wrapper {
        border-radius: 12px;
        overflow: hidden;
        border: 1px solid #eee;
    }

    .premium-table thead tr {
        background: #fcfcfc !important;
    }

    .premium-table tbody tr:hover {
        background: #f9f9f9;
    }

    .premium-input {
        transition: all 0.3s ease;
        background: #fff;
    }

    .premium-input:focus {
        border-color: #004a99 !important;
        box-shadow: 0 0 0 3px rgba(0, 74, 153, 0.1);
        outline: none;
    }

    /* Custom Scrollbar for comments */
    .comments-list::-webkit-scrollbar {
        width: 6px;
    }

    .comments-list::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    .comments-list::-webkit-scrollbar-thumb {
        background: #ccc;
        border-radius: 10px;
    }

    .comment-item {
        transition: all 0.2s;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
    }

    .comment-item:hover {
        transform: translateX(3px);
        border-color: #004a99 !important;
    }
</style>